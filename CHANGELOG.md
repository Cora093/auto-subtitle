# 更新日志

## v0.3.0 (2025-11-22)

### 新增功能
- **阿里云 ASR 支持**：新增阿里云智能语音交互录音文件识别接口
  - 支持异步任务提交和结果轮询
  - 实现阿里云 RPC 签名算法
  - 支持词级时间戳和智能断句

- **多云服务切换**：在配置面板中可选择使用腾讯云或阿里云
  - 统一的用户体验和工作流程
  - 独立的配置存储，切换无需重新配置
  - 智能提示当前使用的服务商

### 改进
- **配置管理重构**：
  - 支持多服务商配置存储
  - 自动迁移旧版本配置（v0.2.x → v0.3.0）
  - 配置窗口每次打开时重新加载最新值

- **UI 优化**：
  - 配置面板支持服务商切换
  - 按钮文案动态显示当前服务商名称
  - 状态提示更加清晰

### 技术细节
- 新增 `AlibabaCloudProvider` 模块
- 新增 `getProviderName()` 方法用于获取当前服务商名称
- 配置结构从扁平化改为层级化（`provider` + `tencent`/`alibaba`）
- 实现了阿里云 Percent Encoding 规范

### 兼容性
- 完全向后兼容 v0.2.x
- 旧版本配置自动迁移，无感知升级
- 未配置用户首次打开会提示选择服务商

---

## v0.2.1

### 新增功能
- **字幕缓存**：识别成功后自动保存字幕到 IndexedDB
- 再次访问时优先读取缓存，避免重复调用 API
- UI 显示缓存状态（"已缓存音频+字幕"或"已缓存音频"）

---

## v0.2.0

### 新增功能
- **可视化配置面板**：无需修改代码即可配置 API 密钥
- **安全存储**：使用 `GM_setValue` 在浏览器本地存储密钥
- **首次使用引导**：自动弹出配置窗口

---

## v0.1.0

### 初始版本
- 音频提取功能
- 腾讯云 ASR 对接
- 智能断句算法
- 字幕渲染
- IndexedDB 音频缓存
